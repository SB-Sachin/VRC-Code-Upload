void drive_forward(int targetDegrees, bool runIntake = false, bool runDepo = false) {
  bool isBackward = targetDegrees < 0;
  int absDegrees = abs(targetDegrees);
  
  resetAllMotorPositions();

  while (fabs(leftMotor.position(degrees)) < absDegrees) {
    double currentPos = fabs(leftMotor.position(degrees));
    int speed = 0;

    // Ramp up at start, ramp down at end
    if (currentPos < 100 && currentPos < absDegrees * 0.5)
      speed = currentPos + 1;
    else
      speed = absDegrees - currentPos;

    if (speed > DRIVE_SPEED) speed = DRIVE_SPEED;
    if (speed < 20) speed = 20; // Keep a minimum speed to avoid stalling

    if (isBackward) {
      setAllMotors(reverse, speed, pct);
    } else {
      setAllMotors(forward, speed, pct);
    }

    if (runIntake) {
      intake_bottom.spin(forward, 100, pct);
    }
    if (runDepo) {
      deposition.spin(forward, 100, pct);
    }
    
    wait(20, msec);
  }

  stopAllMotors();
}
